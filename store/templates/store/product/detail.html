{% extends "store/base.html" %}

{% block title %}
    {{ product.name }} - Ecommerce Incap
{% endblock %}

{% block content %}
    <div style="max-width: 800px; margin: 0 auto;">
        <a href="{% url 'store:product_list' %}" style="display: inline-block; margin-bottom: 1rem;">&larr; Volver a productos</a>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            <div>
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 100%; border-radius: 8px;">
                {% else %}
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23ddd' width='400' height='400'/%3E%3Ctext fill='%23999' font-size='30' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3ESin Imagen%3C/text%3E%3C/svg%3E" 
                         alt="Sin imagen" style="width: 100%; border-radius: 8px;">
                {% endif %}
            </div>
            
            <div>
                <h1>{{ product.name }}</h1>
                <p style="color: #666; margin: 0.5rem 0;">
                    Categoría: <a href="{% url 'store:product_list_by_category' product.category.slug %}">
                        {{ product.category }}
                    </a>
                </p>
                <p style="font-size: 2rem; color: #27ae60; font-weight: bold; margin: 1rem 0;">
                    ${{ product.price }}
                </p>
                <p style="margin: 1rem 0;">
                    <strong>Stock disponible:</strong> {{ product.stock }} unidades
                </p>
                <p style="margin: 1rem 0;">
                    <strong>Estado:</strong> 
                    {% if product.available %}
                        <span style="color: #27ae60;">Disponible</span>
                    {% else %}
                        <span style="color: #e74c3c;">No disponible</span>
                    {% endif %}
                </p>
                
                <h3>Descripción</h3>
                <p style="line-height: 1.8; color: #555;">{{ product.description }}</p>
                
                {% if product.available and product.stock > 0 %}
                    <button class="btn" style="margin-top: 2rem; padding: 1rem 2rem; font-size: 1.1rem; cursor: pointer; border: none;">
                        Agregar al Carrito
                    </button>
                {% else %}
                    <button class="btn" style="margin-top: 2rem; padding: 1rem 2rem; font-size: 1.1rem; background-color: #95a5a6; cursor: not-allowed; border: none;" disabled>
                        No Disponible
                    </button>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
